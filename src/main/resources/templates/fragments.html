<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<body>

    <head th:fragment="header-files">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/png" th:href="@{/images/icebank_logo.png}">
        <link rel="stylesheet" th:href="@{/css/style.css}">
    </head>

    <div th:fragment="auth-header">
        <h1>IceBank</h1>
        <img class="logo" th:src="@{/images/icebank_logo.png}" alt="IceBank Logo">
    </div>

    <header th:fragment="toolbar-header" class="toolbar">
        <div class="toolbar-content">
            <a th:if="${showBack}" th:href="@{/dashboard}" class="back-btn">&#10094;</a>

            <h1 class="m-0">IceBank</h1>

            <a th:href="@{/logout}">
                <img class="logout-btn" th:src="@{/images/logout_btn.png}" alt="Logout">
            </a>
        </div>
    </header>

    <div th:fragment="alerts" class="alert-wrapper">
        <div th:if="${param.success}" class="custom-alert alert-success">
            <div class="alert-content">
                <span class="alert-title">Success!</span>
                <span class="alert-message">Check your email to verify your account.</span>
            </div>
            <button type="button" class="close-alert" onclick="this.parentElement.style.display='none';">&times;</button>
        </div>

        <div th:if="${param.verified}" class="custom-alert alert-info">
            <div class="alert-content">
                <span class="alert-title">Verified!</span>
                <span class="alert-message">Your account is active. You can now log in.</span>
            </div>
            <button type="button" class="close-alert" onclick="this.parentElement.style.display='none';">&times;</button>
        </div>

        <div th:if="${param.error}" class="custom-alert alert-danger">
            <div class="alert-content">
                <span class="alert-title" th:text="${param.error[0] == 'invalid-token' ? 'Invalid Link' : 'Login Failed'}">Error</span>
                <span class="alert-message">Please check your details and try again.</span>
            </div>
            <button type="button" class="close-alert" onclick="this.parentElement.style.display='none';">&times;</button>
        </div>
    </div>

</body>
</html>